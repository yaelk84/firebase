<agm-map dir="ltr" [fitBounds]="true" [draggable]="false">
<!--  [latitude]="geoCoordinateY" [longitude]="geoCoordinateX" [zoom]="zoom" (mapClick)="grabCoords($event)" -->
  <ng-container *ngIf="hasAccessToMyLocation">
    <agm-marker
    [latitude]="geoCoordinateY"
    [longitude]="geoCoordinateX"
    [iconUrl]="myLocationIcon">
  </agm-marker>
  </ng-container>
    <ng-container *ngFor="let branchPoint of branches; let i = index">
    <agm-marker
      (markerClick)="showSelectedMarkerOnBranchList(branchPoint.branchSummarize.branchNum)"
      (mouseOver)="branchPoint.isHovering = true"
      (mouseOut)="branchPoint.isHovering = false"
      [agmFitBounds]="true"
      [latitude]="branchPoint.coords.lat"
      [longitude]="branchPoint.coords.lng"
      [visible]="branchPoint.branchSummarize.branchNum == activeRoute.snapshot.queryParams.branch || !showSingleDisplay"
      [iconUrl]="branchPoint.isBankat || branchPoint.isHovering ? bankatAndHoverIcon : branchIcon"
      [label]="branchPoint.isBankat ? {
      text: '&#8362;',
      color: 'white',
      fontFamily: 'inherit',
      fontSize: '16px',
      fontWeight: 'normal'
    } : {
      text: branchPoint.indexNoBankat + '',
      color: 'white',
      fontFamily: '',
      fontSize: '16px',
      fontWeight: 'normal'
      }">
      <agm-snazzy-info-window
        [maxWidth]="350"
        [maxHeight]="200"
        [shadow]="true"
        [latitude]="branchPoint.coords.lat"
        [longitude]="branchPoint.coords.lng"
        [closeOnMapClick]="true"
        [closeWhenOthersOpen]="true"
        [openOnMarkerClick]="true">
        <!--[isOpen]="(branchPoint.branchSummarize.branchNum == activeRoute.snapshot.queryParams.branch || ShowSnazzyInfoWindow) || showSingleDisplay"-->
        <ng-template>
          <app-branch-box-summarize [branchDataSummarize]="branchPoint.branchSummarize"></app-branch-box-summarize>
        </ng-template>
      </agm-snazzy-info-window>
    </agm-marker>
  </ng-container>
</agm-map>


