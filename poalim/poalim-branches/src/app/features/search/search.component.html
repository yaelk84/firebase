<div class="overlay" [ngClass]="{'on' : openDropdown}"></div>

<div class="search-wrapper" [ngClass]="{'focused' : searchFocused || selectedItem}">
  <ng-select [(ngModel)]="selectedItem"
             [items]="items"
             class="autocomplete-search"
             bindLabel="name"
             placeholder="{{'placeInputSearch' | rcTranslate}}"
             [markFirst]="true"
             [closeOnSelect]="true"
             [searchFn] = "searchFn"
             [isOpen]="openDropdown"
             (search)="onSearch($event)"
             (close)="onClose()"
             (focus)="onFocus($event)"
             (clear)="onClear()"
             (blur)="onBlur($event)"
             (change)="onChange($event)"
  >
    <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
<!-- todo: add the icons and complete the template according to city/branch -->
      <div [ngOptionHighlight]="search">{{item.name}}</div>
      <div [ngOptionHighlight]="search">{{item.address}}</div>
    </ng-template>
  </ng-select>
  <div class="search-btn-wrapper">
    <button class="search-btn"
            [disabled]="!openDropdown"
            [ngClass]="{
            'can-click': openDropdown,
            'cant-click': searchTerm && searchTerm.length < 3}">
      <img class="search-btn-icon" src="../../../assets/media/icons/search-white.svg" alt="">
    </button>
  </div>
</div>

